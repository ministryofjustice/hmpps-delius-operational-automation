name: "Oracle: Licence Audit"
run-name: "Oracle-Licence-Audit"
on:
  workflow_dispatch:
    inputs:
      SourceCodeVersion:
        description: "Source version for the hmpps-delius-operation-automation. Enter a pull request, branch, commit ID, tag, or reference."
        type: string
        default: "main"
      SourceConfigVersion:
        description: "Source version for the modernisation-platform-configuration-management. Enter a pull request, branch, commit ID, tag, or reference."
        type: string
        default: "main"

# Allow permissions on repository and docker image and OIDC token
permissions:
  contents: read
  packages: read
  id-token: write

jobs:
  deployment:
    name: oracle-licence-audit
    runs-on: ubuntu-latest
    #container:
    # image: ghcr.io/ministryofjustice/hmpps-delius-operational-automation:0.1
    strategy:
      matrix:
        environment: [delius-core-dev,delius-core-test,delius-core-training,delius-core-stage,delius-core-pre-prod,delius-core-prod]
    environment: ${{ matrix.environment }}
    timeout-minutes: 1440
    continue-on-error: false
    steps:

      - name: Check Vars Exist For Environment
        if: ${{ vars.AWS_ACCOUNT_ID  }}
        run: echo ${{ matrix.environment }} 

          
